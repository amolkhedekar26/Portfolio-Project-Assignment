{"ast":null,"code":"import axios from \"axios\";\nimport authHeader from \"./auth-header\";\nconst API_URL = \"http://localhost:5000/api/v1/profiles/\"; // Add a response interceptor\n\naxios.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response && error.response.data && !error.response.data.success) {\n    localStorage.removeItem(\"userId\"); // <-- add your var\n\n    window.location = \"/\"; // <-- add your path\n  } else if (error.response && error.response.data && error.response.data.error && error.response.data.error.message) {\n    toastMessage(error.response.data.error.message, 1);\n  } else if (error.response && error.response.status === 401) {\n    localStorage.removeItem(\"userId\"); // <-- add your var\n\n    window.location = \"/\"; // <-- add your path\n  } else return Promise.reject(error);\n});\n\nconst getProfile = () => {\n  return axios.get(API_URL, {\n    headers: authHeader()\n  });\n};\n\nconst createProfile = data => {\n  return axios.post(API_URL, data, {\n    headers: authHeader()\n  });\n};\n\nconst ProfileService = {\n  getProfile,\n  createProfile\n};\nexport default ProfileService;","map":{"version":3,"names":["axios","authHeader","API_URL","interceptors","response","use","error","data","success","localStorage","removeItem","window","location","message","toastMessage","status","Promise","reject","getProfile","get","headers","createProfile","post","ProfileService"],"sources":["/home/amol/Submit On/client/src/services/profile.service.js"],"sourcesContent":["import axios from \"axios\";\nimport authHeader from \"./auth-header\";\nconst API_URL = \"http://localhost:5000/api/v1/profiles/\";\n\n// Add a response interceptor\naxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response && error.response.data && !error.response.data.success) {\n      localStorage.removeItem(\"userId\"); // <-- add your var\n      window.location = \"/\"; // <-- add your path\n    } else if (\n      error.response &&\n      error.response.data &&\n      error.response.data.error &&\n      error.response.data.error.message\n    ) {\n      toastMessage(error.response.data.error.message, 1);\n    } else if (error.response && error.response.status === 401) {\n      localStorage.removeItem(\"userId\"); // <-- add your var\n      window.location = \"/\"; // <-- add your path\n    } else return Promise.reject(error);\n  }\n);\n\nconst getProfile = () => {\n  return axios.get(API_URL, { headers: authHeader() });\n};\n\nconst createProfile = (data) => {\n  return axios.post(API_URL, data, { headers: authHeader() });\n};\n\nconst ProfileService = {\n  getProfile,\n  createProfile,\n};\n\nexport default ProfileService;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,MAAMC,OAAO,GAAG,wCAAhB,C,CAEA;;AACAF,KAAK,CAACG,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACGD,QAAD,IAAc;EACZ,OAAOA,QAAP;AACD,CAHH,EAIGE,KAAD,IAAW;EACT,IAAIA,KAAK,CAACF,QAAN,IAAkBE,KAAK,CAACF,QAAN,CAAeG,IAAjC,IAAyC,CAACD,KAAK,CAACF,QAAN,CAAeG,IAAf,CAAoBC,OAAlE,EAA2E;IACzEC,YAAY,CAACC,UAAb,CAAwB,QAAxB,EADyE,CACtC;;IACnCC,MAAM,CAACC,QAAP,GAAkB,GAAlB,CAFyE,CAElD;EACxB,CAHD,MAGO,IACLN,KAAK,CAACF,QAAN,IACAE,KAAK,CAACF,QAAN,CAAeG,IADf,IAEAD,KAAK,CAACF,QAAN,CAAeG,IAAf,CAAoBD,KAFpB,IAGAA,KAAK,CAACF,QAAN,CAAeG,IAAf,CAAoBD,KAApB,CAA0BO,OAJrB,EAKL;IACAC,YAAY,CAACR,KAAK,CAACF,QAAN,CAAeG,IAAf,CAAoBD,KAApB,CAA0BO,OAA3B,EAAoC,CAApC,CAAZ;EACD,CAPM,MAOA,IAAIP,KAAK,CAACF,QAAN,IAAkBE,KAAK,CAACF,QAAN,CAAeW,MAAf,KAA0B,GAAhD,EAAqD;IAC1DN,YAAY,CAACC,UAAb,CAAwB,QAAxB,EAD0D,CACvB;;IACnCC,MAAM,CAACC,QAAP,GAAkB,GAAlB,CAF0D,CAEnC;EACxB,CAHM,MAGA,OAAOI,OAAO,CAACC,MAAR,CAAeX,KAAf,CAAP;AACR,CAnBH;;AAsBA,MAAMY,UAAU,GAAG,MAAM;EACvB,OAAOlB,KAAK,CAACmB,GAAN,CAAUjB,OAAV,EAAmB;IAAEkB,OAAO,EAAEnB,UAAU;EAArB,CAAnB,CAAP;AACD,CAFD;;AAIA,MAAMoB,aAAa,GAAId,IAAD,IAAU;EAC9B,OAAOP,KAAK,CAACsB,IAAN,CAAWpB,OAAX,EAAoBK,IAApB,EAA0B;IAAEa,OAAO,EAAEnB,UAAU;EAArB,CAA1B,CAAP;AACD,CAFD;;AAIA,MAAMsB,cAAc,GAAG;EACrBL,UADqB;EAErBG;AAFqB,CAAvB;AAKA,eAAeE,cAAf"},"metadata":{},"sourceType":"module"}